# Configuração do Sistema de Validação de Performance ML
# Arquivo: configs/validation_config.yaml

# Token de acesso da Meta Ads API
meta_access_token: "EAAV..."  # TODO: Substituir pelo token real

# Account IDs Meta Ads (usar ambos na validação)
meta_account_ids:
  - act_188005769808959  # Ads - Rodolfo Mori
  - act_786790755803474  # Ads - Gestor de IA

# Configurações globais
product_value: 2000.00  # Valor do produto em R$
max_match_days: 30      # Janela máxima para matching leads-vendas

# Padrões de campanha
campaign_filters:
  base_pattern: "DEVLF | CAP | FRIO"  # Filtro base (campanhas de captação)
  ml_pattern: "MACHINE LEARNING"       # Padrão para COM ML
  non_ml_patterns:                     # Padrões para SEM ML
    - "ESCALA SCORE"
    - "FAIXA A"
    - "FAIXA B"
    - "FAIXA C"
    - "FAIXA D"

# Caminhos dos arquivos (únicos, contêm todo o período)
paths:
  leads: "files/validation/leads"      # CSV do Google Sheets
  vendas: "files/validation/vendas"    # Excel Guru + TMB

# ============================================================================
# PERÍODOS DE ANÁLISE
# ============================================================================

periodos:
  periodo_atual:
    name: "Dezembro 2025"
    start_date: "2025-12-02"      # Captação: 02/12 a 08/12
    end_date: "2025-12-08"
    sales_start_date: "2025-12-15"  # Vendas: 15/12 a 21/12
    sales_end_date: "2025-12-21"

# ============================================================================
# TAXAS DE CONVERSÃO ESPERADAS (CORRIGIDAS POR RECALL)
# ============================================================================
#
# Fonte: V2/api/business_config.py - CONVERSION_RATES (linhas 71-82)
# Última atualização: 2025-11-10
#
# METODOLOGIA:
#   - Taxas observadas no test set: Conversões reais durante treinamento
#   - Recall de matching: 55.7% (769 conversões observadas / 1,380 vendas reais)
#   - Fator de correção: 1.795x (1 / 0.557)
#   - Taxa corrigida = Taxa observada × 1.795
#
# POR QUE CORRIGIR POR RECALL?
#   O sistema de matching lead→venda é imperfeito devido a:
#   - Emails diferentes entre pesquisa e compra
#   - Telefones inválidos/incomparáveis
#   - Dados ausentes
#
#   Logo, as taxas corrigidas refletem a performance ESPERADA considerando
#   as limitações do matching em produção.
#
# NOTA: Quebras de monotonia (D3 < D2, D5 < D4) são do dataset real.
# ============================================================================

expected_conversion_rates:
  D1: 0.003836   # 0.38% | Corrigido de 0.21% (×1.795)
  D2: 0.004933   # 0.49% | Corrigido de 0.27% (×1.795)
  D3: 0.003838   # 0.38% | Corrigido de 0.21% (×1.795) - quebra monotonia vs D2
  D4: 0.010415   # 1.04% | Corrigido de 0.58% (×1.795)
  D5: 0.005480   # 0.55% | Corrigido de 0.31% (×1.795) - quebra monotonia vs D4
  D6: 0.012064   # 1.21% | Corrigido de 0.67% (×1.795)
  D7: 0.012059   # 1.21% | Corrigido de 0.67% (×1.795)
  D8: 0.018636   # 1.86% | Corrigido de 1.04% (×1.795)
  D9: 0.025207   # 2.52% | Corrigido de 1.40% (×1.795)
  D10: 0.034551  # 3.45% | Corrigido de 1.92% (×1.795)
